<!DOCTYPE html>
<html lang="en" ng-app="forgotApp">
<head>
  <meta charset="UTF-8">
  <title>Forgot Password â€“ Budgetwala</title>

  <!-- ONLY THIS CSS FILE -->
  <link rel="stylesheet" href="forgot_flow.css">

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script src="forgot_flow.js"></script>
</head>

<body ng-controller="ForgotController">

<div class="page-center">

  <div class="slider-wrapper">
    <div class="slider"
         ng-style="{'transform':'translateX(-' + step * 100 + '%)'}">

      <!-- ================= STEP 1 ================= -->
      <div class="card">
        <h2>Forgot Password</h2>
        <p>Enter your details to receive OTP</p>

        <form ng-submit="sendOtp()">
          <input type="email"
                 placeholder="Registered Email"
                 ng-model="user.email"
                 required>

          <input type="text"
                 placeholder="Telegram Chat ID"
                 ng-model="user.telegram_chat_id"
                 required>

          <button class="btn">Send OTP</button>
        </form>

        <p class="success" ng-if="message">{{ message }}</p>
        <p class="error" ng-if="error">{{ error }}</p>
      </div>

      <!-- ================= STEP 2 ================= -->
      <div class="card">
        <h2>Verify OTP</h2>
        <p>Enter OTP sent to Telegram</p>

        <form ng-submit="verifyOtp()">
          <input type="text"
                 placeholder="Enter OTP"
                 ng-model="otp"
                 required>

          <button class="btn">Verify OTP</button>
        </form>

        <p class="success" ng-if="message">{{ message }}</p>
        <p class="error" ng-if="error">{{ error }}</p>
      </div>

      <!-- ================= STEP 3 ================= -->
      <div class="card">
        <h2>Reset Password</h2>

        <form ng-submit="resetPassword()">
          <input type="password"
                 placeholder="New Password"
                 ng-model="password"
                 required>

          <input type="password"
                 placeholder="Confirm Password"
                 ng-model="confirm"
                 required>

          <p class="error" ng-if="password !== confirm">
            Passwords do not match
          </p>

          <button class="btn"
                  ng-disabled="password !== confirm">
            Reset Password
          </button>
        </form>

        <p class="success" ng-if="message">{{ message }}</p>
        <p class="error" ng-if="error">{{ error }}</p>
      </div>

    </div>
  </div>

</div>

</body>
</html>
